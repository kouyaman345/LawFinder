# 06_UIç”»é¢è¨­è¨ˆæ›¸

**ä½œæˆæ—¥**: 2025å¹´8æœˆ21æ—¥  
**å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: LawFinder  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Phase 2å®Ÿè£…ä¸­  

## 1. UIè¨­è¨ˆæ¦‚è¦

### 1.1 è¨­è¨ˆæ–¹é‡

LawFinderã®UIã¯ã€æ³•ä»¤æ¤œç´¢ã®åŠ¹ç‡æ€§ã¨è¦–è¦šçš„ãªç†è§£ã—ã‚„ã™ã•ã‚’é‡è¦–ã—ãŸè¨­è¨ˆã¨ãªã£ã¦ã„ã¾ã™ã€‚

**åŸºæœ¬æ–¹é‡:**
- **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å„ªå…ˆ**: æ³•å‹™æ‹…å½“è€…ãŒç›´æ„Ÿçš„ã«æ“ä½œã§ãã‚‹UI
- **e-Govæº–æ‹ **: æ”¿åºœæ¨™æº–ã®UIãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥²
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: PCã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œ
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ 
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: åˆæœŸè¡¨ç¤º3ç§’ä»¥å†…ã€ç”»é¢é·ç§»1ç§’ä»¥å†…

### 1.2 å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

**Phase 1ï¼ˆä¸€èˆ¬å…¬é–‹ï¼‰:**
- ä¸€èˆ¬å¸‚æ°‘
- æ³•å­¦ç ”ç©¶è€…
- æ³•å‹™é–¢ä¿‚è€…

**Phase 2ï¼ˆç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼‰:**
- æ”¿åºœæ³•åˆ¶å±€è·å“¡
- å„çœåºã®æ³•ä»¤èµ·æ¡ˆæ‹…å½“è€…
- ç«‹æ³•æ”¯æ´è€…

### 1.3 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

```typescript
// UI Framework
- React 19.0.0
- Next.js 15.4.5 (App Router)
- TypeScript 5.3.3

// Styling
- Tailwind CSS 3.4.1
- Headless UI (ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)
- Material Icons (ã‚¢ã‚¤ã‚³ãƒ³)

// State Management
- React Hooks (useState, useEffect)
- SWR (ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ³ã‚°)

// Visualization
- D3.js (ã‚°ãƒ©ãƒ•å¯è¦–åŒ–)
- Cytoscape.js (ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³)
```

## 2. ç”»é¢é·ç§»è¨­è¨ˆ

### 2.1 Phase 1: é™çš„ã‚µã‚¤ãƒˆç”»é¢é·ç§»

```mermaid
graph TD
    A[ãƒ›ãƒ¼ãƒ ç”»é¢] --> B[æ³•ä»¤ä¸€è¦§]
    A --> C[æ¤œç´¢ç”»é¢]
    B --> D[æ³•ä»¤è©³ç´°]
    C --> D
    D --> E[æ¡æ–‡è©³ç´°]
    E --> F[å‚ç…§å…ˆæ³•ä»¤]
    F --> D
    D --> G[å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    D --> H[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰]
```

### 2.2 Phase 2: ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ç”»é¢é·ç§»

```mermaid
graph TD
    A[ãƒ­ã‚°ã‚¤ãƒ³] --> B[ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰]
    B --> C[æ³•ä»¤æ¤œç´¢]
    B --> D[æ”¹æ­£å½±éŸ¿åˆ†æ]
    B --> E[å‚ç…§é–¢ä¿‚ç®¡ç†]
    B --> F[ãƒ¬ãƒãƒ¼ãƒˆ]
    C --> G[æ³•ä»¤è©³ç´°]
    D --> H[å½±éŸ¿åˆ†æçµæœ]
    E --> I[å‚ç…§ç·¨é›†]
    F --> J[ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ]
    G --> K[æ”¹æ­£ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³]
    H --> L[å½±éŸ¿è©³ç´°]
```

## 3. ç”»é¢è¨­è¨ˆè©³ç´°

### 3.1 ãƒ›ãƒ¼ãƒ ç”»é¢ï¼ˆP1-001ï¼‰

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Logo] LawFinder        [æ³•ä»¤ä¸€è¦§] [è©³ç´°æ¤œç´¢] [ãƒ˜ãƒ«ãƒ—]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚              ğŸ›ï¸ æ—¥æœ¬ã®æ³•ä»¤ã‚’ç°¡å˜ã«æ¤œç´¢ãƒ»é–²è¦§              â”‚
â”‚                                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚         â”‚ ğŸ” æ³•ä»¤åãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›...          â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                        [æ¤œç´¢]                               â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   ğŸ“‹        â”‚  â”‚   ğŸ”—        â”‚  â”‚   ğŸ“Š        â”‚       â”‚
â”‚  â”‚ æ³•ä»¤ä¸€è¦§    â”‚  â”‚ å‚ç…§é–¢ä¿‚    â”‚  â”‚ çµ±è¨ˆæƒ…å ±    â”‚       â”‚
â”‚  â”‚ å…¨ã¦ã®æ³•ä»¤ã‚’ â”‚  â”‚ æ³•ä»¤é–“ã®    â”‚  â”‚ æ³•ä»¤ãƒ‡ãƒ¼ã‚¿ã® â”‚       â”‚
â”‚  â”‚ ä¸€è¦§è¡¨ç¤º    â”‚  â”‚ ã¤ãªãŒã‚Šã‚’  â”‚  â”‚ çµ±è¨ˆã‚’è¡¨ç¤º  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                             â”‚
â”‚  ã‚ˆãæ¤œç´¢ã•ã‚Œã‚‹æ³•ä»¤                                         â”‚
â”‚  ãƒ»æ°‘æ³•                  ãƒ»åˆ‘æ³•                             â”‚
â”‚  ãƒ»å•†æ³•                  ãƒ»ä¼šç¤¾æ³•                           â”‚
â”‚  ãƒ»åŠ´åƒåŸºæº–æ³•            ãƒ»å€‹äººæƒ…å ±ä¿è­·æ³•                   â”‚
â”‚                                                             â”‚
â”‚  æœ€è¿‘æ›´æ–°ã•ã‚ŒãŸæ³•ä»¤                                         â”‚
â”‚  ãƒ»â—‹â—‹æ³•ã®ä¸€éƒ¨ã‚’æ”¹æ­£ã™ã‚‹æ³•å¾‹ï¼ˆä»¤å’Œ7å¹´æ³•å¾‹ç¬¬â—‹å·ï¼‰          â”‚
â”‚  ãƒ»â–³â–³ã«é–¢ã™ã‚‹æ³•å¾‹æ–½è¡Œä»¤ã®ä¸€éƒ¨ã‚’æ”¹æ­£ã™ã‚‹æ”¿ä»¤              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
[ãƒ•ãƒƒã‚¿ãƒ¼: åˆ©ç”¨è¦ç´„ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ | Â© 2025 LawFinder]
```

#### Reactå®Ÿè£…ä¾‹
```tsx
export default function HomePage() {
  const [searchQuery, setSearchQuery] = useState('');
  const { data: popularLaws } = useSWR('/api/laws/popular');
  const { data: recentLaws } = useSWR('/api/laws/recent');

  const handleSearch = async (e: FormEvent) => {
    e.preventDefault();
    router.push(`/search?q=${encodeURIComponent(searchQuery)}`);
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="container mx-auto px-4 py-8">
        {/* ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
        <section className="text-center mb-12">
          <h1 className="text-4xl font-bold text-gray-900 mb-4">
            ğŸ›ï¸ æ—¥æœ¬ã®æ³•ä»¤ã‚’ç°¡å˜ã«æ¤œç´¢ãƒ»é–²è¦§
          </h1>
          
          {/* æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  */}
          <form onSubmit={handleSearch} className="max-w-2xl mx-auto mb-8">
            <div className="relative">
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder="æ³•ä»¤åãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›..."
                className="w-full px-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
              />
              <button
                type="submit"
                className="absolute right-2 top-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
              >
                æ¤œç´¢
              </button>
            </div>
          </form>
        </section>

        {/* æ©Ÿèƒ½ã‚«ãƒ¼ãƒ‰ */}
        <section className="grid md:grid-cols-3 gap-8 mb-12">
          <FeatureCard
            icon="ğŸ“‹"
            title="æ³•ä»¤ä¸€è¦§"
            description="å…¨ã¦ã®æ³•ä»¤ã‚’ä¸€è¦§è¡¨ç¤º"
            href="/laws"
          />
          <FeatureCard
            icon="ğŸ”—"
            title="å‚ç…§é–¢ä¿‚"
            description="æ³•ä»¤é–“ã®ã¤ãªãŒã‚Šã‚’å¯è¦–åŒ–"
            href="/references"
          />
          <FeatureCard
            icon="ğŸ“Š"
            title="çµ±è¨ˆæƒ…å ±"
            description="æ³•ä»¤ãƒ‡ãƒ¼ã‚¿ã®çµ±è¨ˆã‚’è¡¨ç¤º"
            href="/stats"
          />
        </section>

        {/* äººæ°—æ³•ä»¤ */}
        <section className="mb-8">
          <h2 className="text-2xl font-semibold mb-4">ã‚ˆãæ¤œç´¢ã•ã‚Œã‚‹æ³•ä»¤</h2>
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
            {popularLaws?.map((law) => (
              <LawCard key={law.id} law={law} />
            ))}
          </div>
        </section>
      </main>
    </div>
  );
}
```

### 3.2 æ³•ä»¤è©³ç´°ç”»é¢ï¼ˆP1-002ï¼‰

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [< æˆ»ã‚‹] æ°‘æ³•ï¼ˆæ˜æ²»äºŒåä¹å¹´æ³•å¾‹ç¬¬å…«åä¹å·ï¼‰                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç›®æ¬¡        â”‚ æ°‘æ³•                                     â”‚ â”‚
â”‚ â”‚             â”‚ ï¼ˆæ˜æ²»äºŒåä¹å¹´æ³•å¾‹ç¬¬å…«åä¹å·ï¼‰            â”‚ â”‚
â”‚ â”‚ ç¬¬ä¸€ç·¨ ç·å‰‡ â”‚                                         â”‚ â”‚
â”‚ â”‚  ç¬¬ä¸€ç«  é€šå‰‡â”‚ æ–½è¡Œæ—¥ï¼šæ˜æ²»29å¹´4æœˆ27æ—¥                 â”‚ â”‚
â”‚ â”‚  ç¬¬äºŒç«  äºº  â”‚ æœ€çµ‚æ”¹æ­£ï¼šä»¤å’Œ5å¹´æ³•å¾‹ç¬¬53å·              â”‚ â”‚
â”‚ â”‚  ç¬¬ä¸‰ç«  æ³•äººâ”‚                                         â”‚ â”‚
â”‚ â”‚  ç¬¬å››ç«  ç‰©  â”‚ [ğŸ“¥ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰] [ğŸ–¨ï¸ å°åˆ·] [ğŸ”— å…±æœ‰]    â”‚ â”‚
â”‚ â”‚  ç¬¬äº”ç«  æ³•å¾‹â”‚                                         â”‚ â”‚
â”‚ â”‚  ...        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚ â”‚             â”‚                                         â”‚ â”‚
â”‚ â”‚ [ğŸ“‚] å‚ç…§é–¢ä¿‚â”‚ ç¬¬ä¸€ç·¨ã€€ç·å‰‡                             â”‚ â”‚
â”‚ â”‚ â”œ å‚ç…§å…ƒ(15)â”‚                                         â”‚ â”‚
â”‚ â”‚ â”” å‚ç…§å…ˆ(8) â”‚ ç¬¬ä¸€ç« ã€€é€šå‰‡                             â”‚ â”‚
â”‚ â”‚             â”‚                                         â”‚ â”‚
â”‚ â”‚ [ğŸ”] æ¤œç´¢   â”‚ ï¼ˆåŸºæœ¬åŸå‰‡ï¼‰                             â”‚ â”‚
â”‚ â”‚ [_______]   â”‚ ç¬¬ä¸€æ¡ã€€ç§æ¨©ã¯ã€å…¬å…±ã®ç¦ç¥‰ã«é©åˆã—ãªã‘   â”‚ â”‚
â”‚ â”‚             â”‚ ã‚Œã°ãªã‚‰ãªã„ã€‚                           â”‚ â”‚
â”‚ â”‚             â”‚ ï¼’ã€€æ¨©åˆ©ã®è¡Œä½¿åŠã³ç¾©å‹™ã®å±¥è¡Œã¯ã€ä¿¡ç¾©ã«   â”‚ â”‚
â”‚ â”‚             â”‚ å¾“ã„èª å®Ÿã«è¡Œã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚         â”‚ â”‚
â”‚ â”‚             â”‚ ï¼“ã€€æ¨©åˆ©ã®æ¿«ç”¨ã¯ã€ã“ã‚Œã‚’è¨±ã•ãªã„ã€‚       â”‚ â”‚
â”‚ â”‚             â”‚                                         â”‚ â”‚
â”‚ â”‚             â”‚ ï¼ˆè§£é‡ˆã®åŸºæº–ï¼‰                           â”‚ â”‚
â”‚ â”‚             â”‚ ç¬¬äºŒæ¡ã€€ã“ã®æ³•å¾‹ã¯ã€å€‹äººã®å°Šå³ã¨ä¸¡æ€§ã®   â”‚ â”‚
â”‚ â”‚             â”‚ æœ¬è³ªçš„å¹³ç­‰ã‚’æ—¨ã¨ã—ã¦ã€è§£é‡ˆã—ãªã‘ã‚Œã°ãª   â”‚ â”‚
â”‚ â”‚             â”‚ ã‚‰ãªã„ã€‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚ [å‰ã®æ¡] [1] [2] [3] ... [1044] [æ¬¡ã®æ¡]  ã‚¸ãƒ£ãƒ³ãƒ—: [___] â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Reactå®Ÿè£…ä¾‹
```tsx
export default function LawDetailPage({ params }: { params: { id: string } }) {
  const { data: law, isLoading } = useSWR(`/api/laws/${params.id}`);
  const { data: references } = useSWR(`/api/references?lawId=${params.id}`);
  const [selectedArticle, setSelectedArticle] = useState<string | null>(null);
  const [searchQuery, setSearchQuery] = useState('');

  if (isLoading) return <LawDetailSkeleton />;
  if (!law) return <NotFound />;

  return (
    <div className="min-h-screen bg-white">
      <Header />
      
      {/* ãƒ–ãƒ¬ãƒƒãƒ‰ã‚¯ãƒ©ãƒ  */}
      <nav className="bg-gray-50 px-4 py-2">
        <ol className="flex items-center space-x-2">
          <li><Link href="/" className="text-blue-600 hover:underline">ãƒ›ãƒ¼ãƒ </Link></li>
          <li className="text-gray-400">/</li>
          <li><Link href="/laws" className="text-blue-600 hover:underline">æ³•ä»¤ä¸€è¦§</Link></li>
          <li className="text-gray-400">/</li>
          <li className="text-gray-900">{law.title}</li>
        </ol>
      </nav>

      <div className="flex">
        {/* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */}
        <aside className="w-80 border-r border-gray-200 h-screen sticky top-0 overflow-y-auto">
          <div className="p-4">
            <h2 className="font-semibold text-lg mb-4">ç›®æ¬¡</h2>
            
            {/* ç›®æ¬¡ãƒ„ãƒªãƒ¼ */}
            <TableOfContents 
              structure={law.structure}
              onArticleClick={setSelectedArticle}
              selectedArticle={selectedArticle}
            />
            
            {/* å‚ç…§é–¢ä¿‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */}
            <div className="mt-8">
              <h3 className="font-medium text-base mb-2">ğŸ“‚ å‚ç…§é–¢ä¿‚</h3>
              <div className="space-y-2">
                <details className="group">
                  <summary className="cursor-pointer flex items-center">
                    <span className="text-sm">å‚ç…§å…ƒ ({references?.incoming?.length || 0})</span>
                  </summary>
                  <div className="ml-4 mt-2 space-y-1">
                    {references?.incoming?.map((ref) => (
                      <ReferenceLink key={ref.id} reference={ref} />
                    ))}
                  </div>
                </details>
                
                <details className="group">
                  <summary className="cursor-pointer flex items-center">
                    <span className="text-sm">å‚ç…§å…ˆ ({references?.outgoing?.length || 0})</span>
                  </summary>
                  <div className="ml-4 mt-2 space-y-1">
                    {references?.outgoing?.map((ref) => (
                      <ReferenceLink key={ref.id} reference={ref} />
                    ))}
                  </div>
                </details>
              </div>
            </div>

            {/* æ¤œç´¢ */}
            <div className="mt-8">
              <h3 className="font-medium text-base mb-2">ğŸ” æ¤œç´¢</h3>
              <input
                type="text"
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                placeholder="æ¡æ–‡å†…ã‚’æ¤œç´¢..."
                className="w-full px-3 py-2 border border-gray-300 rounded text-sm"
              />
            </div>
          </div>
        </aside>

        {/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */}
        <main className="flex-1 p-8">
          {/* æ³•ä»¤ãƒ˜ãƒƒãƒ€ãƒ¼ */}
          <div className="mb-8">
            <h1 className="text-3xl font-bold text-gray-900 mb-2">{law.title}</h1>
            <p className="text-gray-600 mb-4">{law.lawNumber}</p>
            
            <div className="flex items-center justify-between mb-4">
              <div className="text-sm text-gray-500 space-y-1">
                <p>æ–½è¡Œæ—¥ï¼š{formatDate(law.effectiveDate)}</p>
                {law.lastUpdated && (
                  <p>æœ€çµ‚æ”¹æ­£ï¼š{formatDate(law.lastUpdated)}</p>
                )}
              </div>
              
              <div className="flex space-x-2">
                <ActionButton icon="ğŸ“¥" label="ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰" onClick={() => downloadLaw(law.id)} />
                <ActionButton icon="ğŸ–¨ï¸" label="å°åˆ·" onClick={() => printLaw()} />
                <ActionButton icon="ğŸ”—" label="å…±æœ‰" onClick={() => shareLaw(law.id)} />
              </div>
            </div>
          </div>

          {/* æ³•ä»¤æœ¬æ–‡ */}
          <div className="prose prose-lg max-w-none">
            <LawContent 
              law={law}
              highlightQuery={searchQuery}
              selectedArticle={selectedArticle}
            />
          </div>

          {/* ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ */}
          <div className="mt-8 flex items-center justify-between">
            <div className="flex space-x-2">
              <button className="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50">
                å‰ã®æ¡
              </button>
              <ArticleNavigation articles={law.articles} current={selectedArticle} />
              <button className="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50">
                æ¬¡ã®æ¡
              </button>
            </div>
            
            <div className="flex items-center space-x-2">
              <span className="text-sm text-gray-600">ã‚¸ãƒ£ãƒ³ãƒ—:</span>
              <input
                type="text"
                placeholder="æ¡ç•ªå·"
                className="w-20 px-2 py-1 border border-gray-300 rounded text-sm"
              />
              <button className="px-3 py-1 bg-blue-600 text-white rounded text-sm">ç§»å‹•</button>
            </div>
          </div>
        </main>
      </div>
    </div>
  );
}
```

### 3.3 ãƒãƒæ”¹æ­£åˆ†æç”»é¢ï¼ˆP2-004ï¼‰

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¹æ­£å½±éŸ¿åˆ†æï¼ˆãƒãƒæ”¹æ­£æ¤œå‡ºï¼‰                    [ãƒ˜ãƒ«ãƒ—] [?] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ æ”¹æ­£å¯¾è±¡ã®é¸æŠ                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ³•ä»¤: [æ°‘æ³•_______________â–¼] æ¡æ–‡: [ç¬¬94æ¡_____â–¼]    â”‚ â”‚
â”‚ â”‚                                                       â”‚ â”‚
â”‚ â”‚ ã¾ãŸã¯æ”¹æ­£æ³•ä»¤ã‚’æŒ‡å®š:                                 â”‚ â”‚
â”‚ â”‚ [æ°‘æ³•ã®ä¸€éƒ¨ã‚’æ”¹æ­£ã™ã‚‹æ³•å¾‹ï¼ˆä»¤å’Œâ—‹å¹´ï¼‰_________] [é¸æŠ] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚ åˆ†æã‚ªãƒ—ã‚·ãƒ§ãƒ³                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ¢ç´¢æ·±åº¦: [3â–¼] éšå±¤ã¾ã§                              â”‚ â”‚
â”‚ â”‚ â˜‘ é–“æ¥å‚ç…§ã‚’å«ã‚ã‚‹                                   â”‚ â”‚
â”‚ â”‚ â˜‘ ä¿¡é ¼åº¦80%ä»¥ä¸Šã®ã¿è¡¨ç¤º                             â”‚ â”‚
â”‚ â”‚ â˜‘ æº–ç”¨ãƒ»èª­ã¿æ›¿ãˆè¦å®šã‚’è€ƒæ…®                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚                    [åˆ†æé–‹å§‹]                               â”‚
â”‚                                                             â”‚
â”‚ åˆ†æçµæœ                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“Š å½±éŸ¿ã‚µãƒãƒªãƒ¼                                       â”‚ â”‚
â”‚ â”‚ ãƒ»å½±éŸ¿ã‚’å—ã‘ã‚‹æ³•ä»¤: 23ä»¶                             â”‚ â”‚
â”‚ â”‚ ãƒ»å½±éŸ¿ã‚’å—ã‘ã‚‹æ¡æ–‡: 156æ¡                            â”‚ â”‚
â”‚ â”‚ ãƒ»ç›´æ¥å½±éŸ¿: 45æ¡ / é–“æ¥å½±éŸ¿: 111æ¡                   â”‚ â”‚
â”‚ â”‚ ãƒ»å‡¦ç†æ™‚é–“: 1.2ç§’                                    â”‚ â”‚
â”‚ â”‚                                                       â”‚ â”‚
â”‚ â”‚ [è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆ] [CSVå‡ºåŠ›] [ã‚°ãƒ©ãƒ•è¡¨ç¤º] [JSONå‡ºåŠ›]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚ å½±éŸ¿ã‚’å—ã‘ã‚‹æ³•ä»¤ä¸€è¦§                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ³•ä»¤å     | æ¡æ–‡æ•° | å½±éŸ¿åº¦ | å‚ç…§ã‚¿ã‚¤ãƒ— | ä¿¡é ¼åº¦   â”‚ â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚
â”‚ â”‚ å•†æ³•      | 12    | é«˜    | æº–ç”¨      | 92%      â”‚ â”‚
â”‚ â”‚ ä¼šç¤¾æ³•    | 8     | é«˜    | æº–ç”¨      | 89%      â”‚ â”‚
â”‚ â”‚ æ°‘äº‹è¨´è¨Ÿæ³• | 5     | ä¸­    | èª­ã¿æ›¿ãˆ   | 85%      â”‚ â”‚
â”‚ â”‚ ç ´ç”£æ³•    | 3     | ä¸­    | ã¿ãªã—    | 78%      â”‚ â”‚
â”‚ â”‚ ...       |       |       |           |          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Reactå®Ÿè£…ä¾‹
```tsx
export default function ImpactAnalysisPage() {
  const [selectedLaw, setSelectedLaw] = useState<string>('');
  const [selectedArticles, setSelectedArticles] = useState<string[]>([]);
  const [analysisOptions, setAnalysisOptions] = useState({
    depth: 3,
    includeIndirect: true,
    confidenceThreshold: 0.8,
    includeApplications: true
  });
  const [isAnalyzing, setIsAnalyzing] = useState(false);
  const [analysisResult, setAnalysisResult] = useState<ImpactAnalysisResult | null>(null);

  const { data: laws } = useSWR('/api/laws?limit=1000');
  const { data: articles } = useSWR(
    selectedLaw ? `/api/laws/${selectedLaw}/articles` : null
  );

  const handleAnalysis = async () => {
    if (!selectedLaw || selectedArticles.length === 0) return;

    setIsAnalyzing(true);
    try {
      const response = await fetch('/api/analysis/impact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          sourceLawId: selectedLaw,
          targetArticleIds: selectedArticles,
          analysisDepth: analysisOptions.depth,
          includeIndirect: analysisOptions.includeIndirect,
          confidenceThreshold: analysisOptions.confidenceThreshold
        })
      });
      
      const result = await response.json();
      setAnalysisResult(result.data);
    } catch (error) {
      toast.error('åˆ†æä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ');
    } finally {
      setIsAnalyzing(false);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      <Header />
      
      <main className="container mx-auto px-4 py-8">
        <div className="max-w-6xl mx-auto">
          {/* ãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ */}
          <div className="flex items-center justify-between mb-8">
            <h1 className="text-3xl font-bold text-gray-900">
              æ”¹æ­£å½±éŸ¿åˆ†æï¼ˆãƒãƒæ”¹æ­£æ¤œå‡ºï¼‰
            </h1>
            <button className="text-blue-600 hover:text-blue-800">
              <HelpIcon /> ãƒ˜ãƒ«ãƒ—
            </button>
          </div>

          {/* æ”¹æ­£å¯¾è±¡é¸æŠ */}
          <section className="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <h2 className="text-lg font-semibold mb-4">æ”¹æ­£å¯¾è±¡ã®é¸æŠ</h2>
            
            <div className="grid md:grid-cols-2 gap-4 mb-4">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  æ³•ä»¤
                </label>
                <LawSelector
                  laws={laws}
                  value={selectedLaw}
                  onChange={setSelectedLaw}
                  placeholder="æ³•ä»¤ã‚’é¸æŠ..."
                />
              </div>
              
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  æ¡æ–‡
                </label>
                <ArticleMultiSelector
                  articles={articles}
                  values={selectedArticles}
                  onChange={setSelectedArticles}
                  placeholder="æ¡æ–‡ã‚’é¸æŠ..."
                  disabled={!selectedLaw}
                />
              </div>
            </div>

            <div className="border-t pt-4">
              <label className="block text-sm font-medium text-gray-700 mb-2">
                ã¾ãŸã¯æ”¹æ­£æ³•ä»¤ã‚’æŒ‡å®š:
              </label>
              <div className="flex space-x-2">
                <input
                  type="text"
                  placeholder="æ”¹æ­£æ³•ä»¤åã‚’å…¥åŠ›..."
                  className="flex-1 px-3 py-2 border border-gray-300 rounded-md"
                />
                <button className="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                  é¸æŠ
                </button>
              </div>
            </div>
          </section>

          {/* åˆ†æã‚ªãƒ—ã‚·ãƒ§ãƒ³ */}
          <section className="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <h2 className="text-lg font-semibold mb-4">åˆ†æã‚ªãƒ—ã‚·ãƒ§ãƒ³</h2>
            
            <div className="space-y-4">
              <div className="flex items-center space-x-4">
                <label className="text-sm font-medium text-gray-700">æ¢ç´¢æ·±åº¦:</label>
                <select
                  value={analysisOptions.depth}
                  onChange={(e) => setAnalysisOptions(prev => ({
                    ...prev,
                    depth: Number(e.target.value)
                  }))}
                  className="px-3 py-1 border border-gray-300 rounded"
                >
                  <option value={1}>1éšå±¤ã¾ã§</option>
                  <option value={2}>2éšå±¤ã¾ã§</option>
                  <option value={3}>3éšå±¤ã¾ã§</option>
                  <option value={4}>4éšå±¤ã¾ã§</option>
                  <option value={5}>5éšå±¤ã¾ã§</option>
                </select>
              </div>

              <div className="space-y-2">
                <label className="flex items-center">
                  <input
                    type="checkbox"
                    checked={analysisOptions.includeIndirect}
                    onChange={(e) => setAnalysisOptions(prev => ({
                      ...prev,
                      includeIndirect: e.target.checked
                    }))}
                    className="mr-2"
                  />
                  é–“æ¥å‚ç…§ã‚’å«ã‚ã‚‹
                </label>
                
                <label className="flex items-center">
                  <input
                    type="checkbox"
                    checked={analysisOptions.confidenceThreshold >= 0.8}
                    onChange={(e) => setAnalysisOptions(prev => ({
                      ...prev,
                      confidenceThreshold: e.target.checked ? 0.8 : 0.0
                    }))}
                    className="mr-2"
                  />
                  ä¿¡é ¼åº¦80%ä»¥ä¸Šã®ã¿è¡¨ç¤º
                </label>
                
                <label className="flex items-center">
                  <input
                    type="checkbox"
                    checked={analysisOptions.includeApplications}
                    onChange={(e) => setAnalysisOptions(prev => ({
                      ...prev,
                      includeApplications: e.target.checked
                    }))}
                    className="mr-2"
                  />
                  æº–ç”¨ãƒ»èª­ã¿æ›¿ãˆè¦å®šã‚’è€ƒæ…®
                </label>
              </div>
            </div>
          </section>

          {/* åˆ†æå®Ÿè¡Œãƒœã‚¿ãƒ³ */}
          <div className="text-center mb-8">
            <button
              onClick={handleAnalysis}
              disabled={!selectedLaw || selectedArticles.length === 0 || isAnalyzing}
              className="px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {isAnalyzing ? (
                <>
                  <Spinner className="inline mr-2" />
                  åˆ†æä¸­...
                </>
              ) : (
                'åˆ†æé–‹å§‹'
              )}
            </button>
          </div>

          {/* åˆ†æçµæœ */}
          {analysisResult && (
            <>
              {/* ã‚µãƒãƒªãƒ¼ */}
              <section className="bg-white rounded-lg shadow-sm border p-6 mb-6">
                <h2 className="text-lg font-semibold mb-4">ğŸ“Š å½±éŸ¿ã‚µãƒãƒªãƒ¼</h2>
                
                <div className="grid md:grid-cols-4 gap-4 mb-4">
                  <div className="text-center">
                    <div className="text-2xl font-bold text-blue-600">
                      {analysisResult.summary.totalAffectedLaws}
                    </div>
                    <div className="text-sm text-gray-600">å½±éŸ¿ã‚’å—ã‘ã‚‹æ³•ä»¤</div>
                  </div>
                  
                  <div className="text-center">
                    <div className="text-2xl font-bold text-green-600">
                      {analysisResult.summary.totalAffectedArticles}
                    </div>
                    <div className="text-sm text-gray-600">å½±éŸ¿ã‚’å—ã‘ã‚‹æ¡æ–‡</div>
                  </div>
                  
                  <div className="text-center">
                    <div className="text-2xl font-bold text-red-600">
                      {analysisResult.summary.directImpacts}
                    </div>
                    <div className="text-sm text-gray-600">ç›´æ¥å½±éŸ¿</div>
                  </div>
                  
                  <div className="text-center">
                    <div className="text-2xl font-bold text-orange-600">
                      {analysisResult.summary.indirectImpacts}
                    </div>
                    <div className="text-sm text-gray-600">é–“æ¥å½±éŸ¿</div>
                  </div>
                </div>

                <div className="text-sm text-gray-500 mb-4">
                  å‡¦ç†æ™‚é–“: {analysisResult.summary.executionTime}ms
                </div>

                <div className="flex space-x-2">
                  <ExportButton format="pdf" data={analysisResult} />
                  <ExportButton format="csv" data={analysisResult} />
                  <ExportButton format="json" data={analysisResult} />
                  <button
                    onClick={() => setShowGraph(true)}
                    className="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"
                  >
                    ã‚°ãƒ©ãƒ•è¡¨ç¤º
                  </button>
                </div>
              </section>

              {/* å½±éŸ¿æ³•ä»¤ä¸€è¦§ */}
              <section className="bg-white rounded-lg shadow-sm border p-6">
                <h2 className="text-lg font-semibold mb-4">å½±éŸ¿ã‚’å—ã‘ã‚‹æ³•ä»¤ä¸€è¦§</h2>
                
                <ImpactTable affectedLaws={analysisResult.affectedLaws} />
              </section>
            </>
          )}
        </div>
      </main>
    </div>
  );
}
```

## 4. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 4.1 åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### Button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```tsx
interface ButtonProps {
  variant: 'primary' | 'secondary' | 'danger' | 'ghost';
  size: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  loading?: boolean;
  icon?: React.ReactNode;
  children: React.ReactNode;
  onClick?: () => void;
}

export function Button({ 
  variant = 'primary', 
  size = 'md', 
  disabled, 
  loading, 
  icon, 
  children, 
  onClick 
}: ButtonProps) {
  const baseClasses = 'inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';
  
  const variantClasses = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500',
    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',
    ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500'
  };

  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm rounded',
    md: 'px-4 py-2 text-sm rounded-md',
    lg: 'px-6 py-3 text-base rounded-lg'
  };

  return (
    <button
      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${
        disabled || loading ? 'opacity-50 cursor-not-allowed' : ''
      }`}
      disabled={disabled || loading}
      onClick={onClick}
    >
      {loading ? (
        <Spinner className="mr-2" />
      ) : icon ? (
        <span className="mr-2">{icon}</span>
      ) : null}
      {children}
    </button>
  );
}
```

#### SearchBox ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
```tsx
interface SearchBoxProps {
  placeholder?: string;
  value: string;
  onChange: (value: string) => void;
  onSearch: (value: string) => void;
  suggestions?: string[];
  loading?: boolean;
}

export function SearchBox({
  placeholder = "æ¤œç´¢...",
  value,
  onChange,
  onSearch,
  suggestions = [],
  loading = false
}: SearchBoxProps) {
  const [showSuggestions, setShowSuggestions] = useState(false);

  const handleSubmit = (e: FormEvent) => {
    e.preventDefault();
    onSearch(value);
    setShowSuggestions(false);
  };

  return (
    <div className="relative">
      <form onSubmit={handleSubmit}>
        <div className="relative">
          <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <SearchIcon className="h-5 w-5 text-gray-400" />
          </div>
          
          <input
            type="text"
            value={value}
            onChange={(e) => {
              onChange(e.target.value);
              setShowSuggestions(true);
            }}
            onFocus={() => setShowSuggestions(true)}
            placeholder={placeholder}
            className="block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
          />
          
          <div className="absolute inset-y-0 right-0 flex items-center">
            {loading ? (
              <Spinner className="h-5 w-5 text-gray-400 mr-3" />
            ) : (
              <button
                type="submit"
                className="bg-blue-600 text-white px-4 py-2 rounded-r-lg hover:bg-blue-700"
              >
                æ¤œç´¢
              </button>
            )}
          </div>
        </div>
      </form>

      {/* æ¤œç´¢å€™è£œ */}
      {showSuggestions && suggestions.length > 0 && (
        <div className="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg">
          {suggestions.map((suggestion, index) => (
            <button
              key={index}
              onClick={() => {
                onChange(suggestion);
                onSearch(suggestion);
                setShowSuggestions(false);
              }}
              className="w-full px-4 py-2 text-left hover:bg-gray-100 first:rounded-t-md last:rounded-b-md"
            >
              {suggestion}
            </button>
          ))}
        </div>
      )}
    </div>
  );
}
```

### 4.2 ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

#### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
```css
:root {
  /* Primary Colors */
  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;

  /* Neutral Colors */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  /* Semantic Colors */
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  --color-info: #3b82f6;
}
```

#### ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£
```css
:root {
  /* Font Families */
  --font-family-sans: 'Noto Sans JP', 'Hiragino Sans', 'Yu Gothic UI', sans-serif;
  --font-family-mono: 'SFMono-Regular', 'Menlo', 'Monaco', monospace;

  /* Font Sizes */
  --text-xs: 0.75rem;     /* 12px */
  --text-sm: 0.875rem;    /* 14px */
  --text-base: 1rem;      /* 16px */
  --text-lg: 1.125rem;    /* 18px */
  --text-xl: 1.25rem;     /* 20px */
  --text-2xl: 1.5rem;     /* 24px */
  --text-3xl: 1.875rem;   /* 30px */
  --text-4xl: 2.25rem;    /* 36px */

  /* Line Heights */
  --leading-tight: 1.25;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;

  /* Font Weights */
  --font-normal: 400;
  --font-medium: 500;
  --font-semibold: 600;
  --font-bold: 700;
}
```

## 5. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

### 5.1 ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ

```typescript
const breakpoints = {
  sm: '640px',    // ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç¸¦å‘ã
  md: '768px',    // ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆæ¨ªå‘ã
  lg: '1024px',   // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å°
  xl: '1280px',   // ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¤§
  '2xl': '1536px' // å¤§å‹ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤
};
```

### 5.2 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œä¾‹

```tsx
// ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ - ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
export function Navigation() {
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

  return (
    <nav className="bg-white shadow-sm border-b">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between h-16">
          {/* ãƒ­ã‚´ */}
          <div className="flex items-center">
            <Link href="/" className="flex-shrink-0">
              <Logo className="h-8 w-auto" />
            </Link>
          </div>

          {/* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
          <div className="hidden md:flex items-center space-x-8">
            <Link href="/laws" className="text-gray-700 hover:text-gray-900">
              æ³•ä»¤ä¸€è¦§
            </Link>
            <Link href="/search" className="text-gray-700 hover:text-gray-900">
              è©³ç´°æ¤œç´¢
            </Link>
            <Link href="/help" className="text-gray-700 hover:text-gray-900">
              ãƒ˜ãƒ«ãƒ—
            </Link>
          </div>

          {/* ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */}
          <div className="md:hidden flex items-center">
            <button
              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
              className="text-gray-700 hover:text-gray-900 focus:outline-none"
            >
              <MenuIcon className="h-6 w-6" />
            </button>
          </div>
        </div>
      </div>

      {/* ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
      {isMobileMenuOpen && (
        <div className="md:hidden">
          <div className="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50">
            <MobileMenuItem href="/laws" text="æ³•ä»¤ä¸€è¦§" />
            <MobileMenuItem href="/search" text="è©³ç´°æ¤œç´¢" />
            <MobileMenuItem href="/help" text="ãƒ˜ãƒ«ãƒ—" />
          </div>
        </div>
      )}
    </nav>
  );
}
```

## 6. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

### 6.1 WCAG 2.1 AAæº–æ‹ 

#### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
```tsx
// ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œå¯¾å¿œ
export function SearchResults({ results }: { results: SearchResult[] }) {
  const [focusedIndex, setFocusedIndex] = useState(-1);

  const handleKeyDown = (e: KeyboardEvent) => {
    switch (e.key) {
      case 'ArrowDown':
        e.preventDefault();
        setFocusedIndex(prev => 
          prev < results.length - 1 ? prev + 1 : prev
        );
        break;
      case 'ArrowUp':
        e.preventDefault();
        setFocusedIndex(prev => prev > 0 ? prev - 1 : prev);
        break;
      case 'Enter':
        if (focusedIndex >= 0) {
          navigateToResult(results[focusedIndex]);
        }
        break;
      case 'Escape':
        setFocusedIndex(-1);
        break;
    }
  };

  return (
    <div 
      role="listbox"
      aria-label="æ¤œç´¢çµæœ"
      onKeyDown={handleKeyDown}
      tabIndex={0}
    >
      {results.map((result, index) => (
        <div
          key={result.id}
          role="option"
          aria-selected={index === focusedIndex}
          className={`p-4 border-b ${
            index === focusedIndex ? 'bg-blue-50' : ''
          }`}
        >
          <h3 className="font-semibold">{result.title}</h3>
          <p className="text-gray-600">{result.snippet}</p>
        </div>
      ))}
    </div>
  );
}
```

#### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
```tsx
// ARIAå±æ€§ã®é©åˆ‡ãªä½¿ç”¨
export function LawViewer({ law }: { law: Law }) {
  return (
    <main role="main" aria-labelledby="law-title">
      <h1 id="law-title" className="text-3xl font-bold">
        {law.title}
      </h1>
      
      <nav aria-label="æ³•ä»¤å†…ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
        <h2 className="sr-only">ç›®æ¬¡</h2>
        <ul role="tree">
          {law.structure.parts.map((part, index) => (
            <li key={index} role="treeitem" aria-expanded="true">
              <button
                aria-controls={`part-${index}-chapters`}
                className="flex items-center w-full text-left"
              >
                {part.name}
              </button>
              <ul id={`part-${index}-chapters`} role="group">
                {part.chapters.map((chapter, chapterIndex) => (
                  <li key={chapterIndex} role="treeitem">
                    <a href={`#chapter-${chapterIndex}`}>
                      {chapter.name}
                    </a>
                  </li>
                ))}
              </ul>
            </li>
          ))}
        </ul>
      </nav>

      <section aria-labelledby="law-content-heading">
        <h2 id="law-content-heading" className="sr-only">
          æ³•ä»¤æœ¬æ–‡
        </h2>
        <div className="prose max-w-none">
          {/* æ³•ä»¤æœ¬æ–‡ */}
        </div>
      </section>
    </main>
  );
}
```

### 6.2 ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”

ã™ã¹ã¦ã®ãƒ†ã‚­ã‚¹ãƒˆã§WCAG AAåŸºæº–ã‚’æº€ãŸã™ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã‚’ç¢ºä¿ï¼š

- é€šå¸¸ãƒ†ã‚­ã‚¹ãƒˆ: 4.5:1ä»¥ä¸Š
- å¤§ããªãƒ†ã‚­ã‚¹ãƒˆï¼ˆ18pxä»¥ä¸Šï¼‰: 3:1ä»¥ä¸Š
- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: 3:1ä»¥ä¸Š

## 7. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### 7.1 ã‚³ãƒ¼ãƒ‰åˆ†å‰²

```tsx
// å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰åˆ†å‰²
const ImpactAnalysisPage = lazy(() => import('./ImpactAnalysisPage'));
const GraphVisualization = lazy(() => import('./GraphVisualization'));

// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¬ãƒ™ãƒ«ã§ã®åˆ†å‰²
export default function App() {
  return (
    <Router>
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route 
          path="/analysis" 
          element={
            <Suspense fallback={<PageSkeleton />}>
              <ImpactAnalysisPage />
            </Suspense>
          } 
        />
        <Route 
          path="/graph" 
          element={
            <Suspense fallback={<GraphSkeleton />}>
              <GraphVisualization />
            </Suspense>
          }
        />
      </Routes>
    </Router>
  );
}
```

### 7.2 ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«

```tsx
// å¤§é‡ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºç”¨ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
import { FixedSizeList as List } from 'react-window';

export function LawList({ laws }: { laws: Law[] }) {
  const Row = ({ index, style }: { index: number; style: CSSProperties }) => (
    <div style={style}>
      <LawCard law={laws[index]} />
    </div>
  );

  return (
    <List
      height={600}
      itemCount={laws.length}
      itemSize={120}
      width="100%"
    >
      {Row}
    </List>
  );
}
```

### 7.3 ç”»åƒæœ€é©åŒ–

```tsx
// Next.js Image ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ´»ç”¨
import Image from 'next/image';

export function LawDiagram({ src, alt }: { src: string; alt: string }) {
  return (
    <div className="relative w-full h-64">
      <Image
        src={src}
        alt={alt}
        fill
        style={{ objectFit: 'contain' }}
        sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
        priority={false}
        placeholder="blur"
        blurDataURL="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..."
      />
    </div>
  );
}
```

## 8. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

### 8.1 ã‚¨ãƒ©ãƒ¼å¢ƒç•Œ

```tsx
class ErrorBoundary extends Component<
  { children: ReactNode },
  { hasError: boolean; error?: Error }
> {
  constructor(props: { children: ReactNode }) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error: Error) {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught by boundary:', error, errorInfo);
    // ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    reportError(error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="min-h-screen flex items-center justify-center bg-gray-50">
          <div className="max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center">
            <div className="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
              <ExclamationTriangleIcon className="w-8 h-8 text-red-600" />
            </div>
            <h2 className="text-xl font-semibold text-gray-900 mb-2">
              ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ
            </h2>
            <p className="text-gray-600 mb-4">
              ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚
            </p>
            <button
              onClick={() => window.location.reload()}
              className="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700"
            >
              ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿
            </button>
          </div>
        </div>
      );
    }

    return this.props.children;
  }
}
```

### 8.2 ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥

```tsx
// Toasté€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
import { toast } from 'react-hot-toast';

export function useToast() {
  const showSuccess = (message: string) => {
    toast.success(message, {
      duration: 4000,
      position: 'top-right',
      style: {
        background: '#10b981',
        color: 'white',
      },
    });
  };

  const showError = (message: string) => {
    toast.error(message, {
      duration: 5000,
      position: 'top-right',
      style: {
        background: '#ef4444',
        color: 'white',
      },
    });
  };

  const showLoading = (message: string) => {
    return toast.loading(message, {
      position: 'top-right',
    });
  };

  return { showSuccess, showError, showLoading };
}
```

## 9. ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### 9.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ

```typescript
import { render, screen, fireEvent, waitFor } from '@testing-library/react';
import userEvent from '@testing-library/user-event';
import { SearchBox } from './SearchBox';

describe('SearchBox', () => {
  it('should call onSearch when form is submitted', async () => {
    const mockOnSearch = jest.fn();
    const user = userEvent.setup();

    render(
      <SearchBox
        value=""
        onChange={jest.fn()}
        onSearch={mockOnSearch}
      />
    );

    const input = screen.getByRole('textbox');
    const submitButton = screen.getByRole('button', { name: /æ¤œç´¢/i });

    await user.type(input, 'æ°‘æ³•');
    await user.click(submitButton);

    expect(mockOnSearch).toHaveBeenCalledWith('æ°‘æ³•');
  });

  it('should display suggestions when provided', () => {
    const suggestions = ['æ°‘æ³•', 'å•†æ³•', 'åˆ‘æ³•'];

    render(
      <SearchBox
        value="æ°‘"
        onChange={jest.fn()}
        onSearch={jest.fn()}
        suggestions={suggestions}
      />
    );

    suggestions.forEach(suggestion => {
      expect(screen.getByText(suggestion)).toBeInTheDocument();
    });
  });
});
```

### 9.2 E2Eãƒ†ã‚¹ãƒˆ

```typescript
import { test, expect } from '@playwright/test';

test('æ³•ä»¤æ¤œç´¢ãƒ•ãƒ­ãƒ¼', async ({ page }) => {
  await page.goto('/');

  // æ¤œç´¢å®Ÿè¡Œ
  await page.fill('[data-testid="search-input"]', 'æ°‘æ³•');
  await page.click('[data-testid="search-button"]');

  // æ¤œç´¢çµæœç¢ºèª
  await expect(page.locator('[data-testid="search-results"]')).toBeVisible();
  await expect(page.locator('text=æ°‘æ³•')).toBeVisible();

  // æ³•ä»¤è©³ç´°ç”»é¢ã¸é·ç§»
  await page.click('text=æ°‘æ³•');
  await expect(page.locator('[data-testid="law-title"]')).toContainText('æ°‘æ³•');

  // å‚ç…§ãƒªãƒ³ã‚¯ã®å‹•ä½œç¢ºèª
  const referenceLink = page.locator('[data-testid="reference-link"]').first();
  if (await referenceLink.isVisible()) {
    await referenceLink.click();
    await expect(page.url()).toMatch(/\/laws\/[^\/]+/);
  }
});

test('ãƒãƒæ”¹æ­£åˆ†æãƒ•ãƒ­ãƒ¼', async ({ page }) => {
  await page.goto('/analysis');

  // æ³•ä»¤é¸æŠ
  await page.selectOption('[data-testid="law-selector"]', '129AC0000000089');
  await page.selectOption('[data-testid="article-selector"]', '90');

  // åˆ†æå®Ÿè¡Œ
  await page.click('[data-testid="analyze-button"]');

  // çµæœç¢ºèª
  await expect(page.locator('[data-testid="analysis-result"]')).toBeVisible();
  await expect(page.locator('[data-testid="affected-laws-count"]')).toContainText(/\d+/);
});
```

---

**æ”¹è¨‚å±¥æ­´**

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|----------|------|----------|
| 1.0 | 2025-08-21 | åˆç‰ˆä½œæˆï¼ˆç”»é¢è¨­è¨ˆæ›¸ã‚’çµ±åˆï¼‰ |